<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‰ªäÂ§©ËÉΩÊë∏ÂêóÔºü- ChillWorks</title>
    <meta name="description" content="ÊØèÊó•Êë∏È±ºËøêÂäøÂç†ÂçúÔºåÁî®ËΩªÊùæÊúâË∂£ÁöÑÊñπÂºèÊèêÈÜí‰Ω†ÔºöÈÄÇÂ∫¶‰ºëÊÅØÔºåÊâçËÉΩÊõ¥Â•ΩÂú∞Â∑•‰Ωú„ÄÇ">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üêü</text></svg>">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'PingFang SC', sans-serif;
            background: linear-gradient(180deg, #FFB88C 0%, #FF9A6C 30%, #FF8C5A 60%, #FF7A4A 100%);
            min-height: 100vh;
            color: #2D2D2D;
        }
        .container { max-width: 450px; margin: 0 auto; padding: 20px; min-height: 100vh; display: flex; flex-direction: column; }
        .header { display: flex; justify-content: space-between; align-items: center; padding: 10px 0 25px; }
        .back-btn { width: 44px; height: 44px; background: rgba(255,255,255,0.25); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 22px; text-decoration: none; transition: all 0.3s; backdrop-filter: blur(10px); }
        .back-btn:hover { background: rgba(255,255,255,0.35); transform: scale(1.05); }
        .avatar-btn { width: 44px; height: 44px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; cursor: pointer; transition: all 0.3s; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .avatar-btn:hover { transform: scale(1.1); }
        .main-card { background: #FFF8F2; border-radius: 28px; padding: 35px 25px; margin-bottom: 25px; box-shadow: 0 20px 60px rgba(0,0,0,0.15); text-align: center; position: relative; overflow: hidden; }
        .main-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, #FFB88C, #FF6B3D); }
        .card-title { display: flex; align-items: center; justify-content: center; gap: 12px; font-size: 1.8em; font-weight: 700; margin-bottom: 25px; }
        .card-title .fish { font-size: 1.2em; animation: swim 2s ease-in-out infinite; }
        @keyframes swim { 0%, 100% { transform: translateX(0) rotate(-5deg); } 50% { transform: translateX(5px) rotate(5deg); } }
        .stars-rating { display: flex; align-items: center; justify-content: center; gap: 8px; margin-bottom: 20px; }
        .stars { display: flex; gap: 3px; }
        .star { color: #FFD700; font-size: 1.4em; }
        .star.empty { color: #DDD; }
        .rating-text { font-size: 1.1em; font-weight: 600; color: #FF6B3D; }
        .fortune-message { font-size: 1.1em; color: #666; line-height: 1.7; padding: 0 10px; }
        .share-section { display: flex; justify-content: center; gap: 25px; margin-bottom: 30px; }
        .share-btn { display: flex; flex-direction: column; align-items: center; gap: 8px; cursor: pointer; transition: all 0.3s; }
        .share-btn:hover { transform: translateY(-5px); }
        .share-icon { width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.8em; box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
        .share-wechat .share-icon { background: linear-gradient(145deg, #7BB32E, #5A9216); color: white; }
        .share-weibo .share-icon { background: linear-gradient(145deg, #FF8140, #E6162D); color: white; }
        .share-copy .share-icon { background: linear-gradient(145deg, #F5F5F5, #E8E8E8); color: #666; }
        .share-label { font-size: 0.85em; color: white; font-weight: 500; }
        .avatar-panel { background: white; border-radius: 28px 28px 0 0; padding: 30px 25px 40px; position: fixed; bottom: 0; left: 0; right: 0; transform: translateY(100%); transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); box-shadow: 0 -10px 40px rgba(0,0,0,0.15); z-index: 100; }
        .avatar-panel.show { transform: translateY(0); }
        .panel-handle { width: 40px; height: 5px; background: #E0E0E0; border-radius: 3px; margin: 0 auto 25px; }
        .panel-title { text-align: center; margin-bottom: 8px; font-size: 1.2em; font-weight: 600; }
        .panel-subtitle { text-align: center; color: #666; font-size: 0.9em; margin-bottom: 25px; }
        .avatar-grid { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
        .avatar-option { width: 65px; height: 65px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2em; cursor: pointer; transition: all 0.3s; background: #FFF5EB; border: 3px solid transparent; }
        .avatar-option:hover { transform: scale(1.1); }
        .avatar-option.selected { border-color: #FF8C5A; background: #FFF0E6; box-shadow: 0 0 0 4px rgba(255, 140, 90, 0.2); }
        .overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.4); opacity: 0; visibility: hidden; transition: all 0.3s; z-index: 99; }
        .overlay.show { opacity: 1; visibility: visible; }
        .initial-state { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px 0; }
        .start-btn { background: linear-gradient(145deg, #FFF5EB, #FFE8D6); color: #FF6B3D; border: none; padding: 22px 55px; font-size: 1.3em; font-weight: 700; border-radius: 30px; cursor: pointer; box-shadow: 0 15px 40px rgba(0,0,0,0.15); transition: all 0.4s; display: flex; align-items: center; gap: 10px; }
        .start-btn:hover { transform: translateY(-5px) scale(1.02); box-shadow: 0 25px 50px rgba(0,0,0,0.2); }
        .hint-text { color: rgba(255,255,255,0.85); margin-top: 20px; font-size: 0.95em; }
        .result-state { display: none; }
        .result-state.show { display: block; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .try-again-btn { display: flex; align-items: center; justify-content: center; gap: 8px; background: rgba(255,255,255,0.2); color: white; border: none; padding: 16px 35px; font-size: 1em; font-weight: 600; border-radius: 25px; cursor: pointer; margin: 0 auto; transition: all 0.3s; backdrop-filter: blur(10px); }
        .try-again-btn:hover { background: rgba(255,255,255,0.3); }
        .loading-state { display: none; text-align: center; padding: 40px 0; }
        .loading-state.show { display: block; }
        .loading-spinner { font-size: 4em; animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .loading-text { color: white; font-size: 1.1em; margin-top: 20px; animation: pulse 1.5s ease-in-out infinite; }
        @keyframes pulse { 0%, 100% { opacity: 0.7; } 50% { opacity: 1; } }
        .confetti { position: fixed; width: 10px; height: 10px; top: -20px; pointer-events: none; z-index: 1000; animation: confetti-fall 3s linear forwards; }
        @keyframes confetti-fall { 0% { transform: translateY(0) rotate(0deg); opacity: 1; } 100% { transform: translateY(100vh) rotate(720deg); opacity: 0; } }
        .toast { position: fixed; bottom: 100px; left: 50%; transform: translateX(-50%) translateY(100px); background: rgba(0,0,0,0.8); color: white; padding: 15px 30px; border-radius: 30px; font-size: 0.95em; opacity: 0; transition: all 0.4s; z-index: 200; }
        .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }
        .footer { text-align: center; padding: 20px 0; margin-top: auto; }
        .footer a { color: rgba(255,255,255,0.6); text-decoration: none; font-size: 0.85em; }
        .footer a:hover { color: rgba(255,255,255,0.9); }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="../" class="back-btn">‚Äπ</a>
            <div class="avatar-btn" id="avatarBtn">üê±</div>
        </div>
        <div class="initial-state" id="initialState">
            <button class="start-btn" onclick="startFortune()"><span>üêü</span>ÊµãÊµã‰ªäÊó•ËøêÂäø</button>
            <p class="hint-text">ÁúãÁúã‰ªäÂ§©ÈÄÇ‰∏çÈÄÇÂêàÊë∏È±º</p>
        </div>
        <div class="loading-state" id="loadingState">
            <div class="loading-spinner">üêü</div>
            <p class="loading-text">Ê≠£Âú®Âç†Âçú‰∏≠...</p>
        </div>
        <div class="result-state" id="resultState">
            <div class="main-card">
                <h2 class="card-title">‰ªäÊó•Êë∏È±ºËøêÂäø<span class="fish">üêü</span></h2>
                <div class="stars-rating">
                    <div class="stars" id="starsContainer"></div>
                    <span class="rating-text" id="ratingText">Excellent Slacking!</span>
                </div>
                <p class="fortune-message" id="fortuneMessage"></p>
            </div>
            <div class="share-section">
                <div class="share-btn share-wechat" onclick="shareToWechat()">
                    <div class="share-icon">üí¨</div>
                    <span class="share-label">ÂæÆ‰ø°</span>
                </div>
                <div class="share-btn share-weibo" onclick="shareToWeibo()">
                    <div class="share-icon">üì¢</div>
                    <span class="share-label">ÂæÆÂçö</span>
                </div>
                <div class="share-btn share-copy" onclick="copyResult()">
                    <div class="share-icon">üìã</div>
                    <span class="share-label">Â§çÂà∂</span>
                </div>
            </div>
            <button class="try-again-btn" onclick="startFortune()"><span>üîÑ</span>ÂÜçÊù•‰∏ÄÊ¨°</button>
        </div>
        <div class="footer"><a href="../">ChillWorks ¬∑ AI for Life</a></div>
    </div>
    <div class="overlay" id="overlay" onclick="closePanel()"></div>
    <div class="avatar-panel" id="avatarPanel">
        <div class="panel-handle"></div>
        <h3 class="panel-title">Personalize Your Avatar</h3>
        <p class="panel-subtitle">Select a cute icon</p>
        <div class="avatar-grid" id="avatarGrid"></div>
    </div>
    <div class="toast" id="toast">Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø</div>
    <script>
        const avatars = ['üê±', 'üêº', 'ü¶ä', 'üêß', 'üê∞', 'ü¶Å', 'üê®', 'üêØ'];
        const fortunes = [
            { stars: 5, rating: 'Excellent Slacking!', messages: ['Remember to stretch and look busy!\nA perfect day to drift like a leaf.', '‰ªäÂ§©ËÄÅÊùø‰∏çÂú®ÔºåÊîæÂøÉÂ§ßËÉÜÊë∏ÔºÅ\nÂÆáÂÆôÈÉΩÂú®ÊîØÊåÅ‰Ω†‰ºëÊÅØ„ÄÇ', '‰∫îÊòüÂ•ΩËøêÔºÅ‰ªäÂ§©Êë∏È±º‰∏ç‰ºöË¢´ÂèëÁé∞„ÄÇ\nËÆ∞ÂæóÂÅáË£ÖÂæàÂøôÁöÑÊ†∑Â≠ê„ÄÇ'] },
            { stars: 4, rating: 'Great Vibes!', messages: ['ËøêÂäø‰∏çÈîôÔºåÈÄÇÂ∫¶Êë∏È±º„ÄÇ\nËÆ∞ÂæóÂÅ∂Â∞îÁúãÁúãÂ±èÂπï„ÄÇ', '‰ªäÂ§©ÂèØ‰ª•ÊîæÊùæ‰∏Ä‰∏ã„ÄÇ\n‰ΩÜË¶Å‰øùÊåÅË≠¶ËßâÂì¶„ÄÇ', 'ÂõõÊòüËøêÂäøÔºåÊë∏È±ºÊÑâÂø´ÔºÅ\nÂª∫ËÆÆÊà¥‰∏äËÄ≥Êú∫„ÄÇ'] },
            { stars: 3, rating: 'Moderate Chill', messages: ['‰∏≠Á≠âËøêÂäøÔºåÂ∞èÂøÉË°å‰∫ã„ÄÇ\nÂª∫ËÆÆÂàÜÊï£Êë∏È±ºÊó∂Èó¥„ÄÇ', '‰ªäÂ§©Ë¶Å‰ΩéË∞É‰∏ÄÁÇπ„ÄÇ\nÁü≠ÊöÇ‰ºëÊÅØÂç≥ÂèØ„ÄÇ', '‰∏âÊòüËøêÂäøÔºåË∞®ÊÖéÊë∏È±º„ÄÇ\nÊ≥®ÊÑèÂë®Âõ¥Âä®Èùô„ÄÇ'] },
            { stars: 2, rating: 'Stay Alert', messages: ['ËøêÂäø‰∏ÄËà¨ÔºåÂª∫ËÆÆ‰∏ìÊ≥®Â∑•‰Ωú„ÄÇ\n‰ºëÊÅØÊó∂Èó¥Áº©Áü≠‰∏ÄÁÇπ„ÄÇ', '‰ªäÂ§©‰∏çÂ§™ÈÄÇÂêàÊë∏È±º„ÄÇ\nËÄÅÊùøÂèØËÉΩÂú®ÈôÑËøë„ÄÇ', '‰∏§ÊòüË≠¶ÂëäÔºå‰øùÊåÅË≠¶ÊÉïÔºÅ\nÂª∫ËÆÆÂÅáË£ÖÂæàÂøô„ÄÇ'] },
            { stars: 1, rating: 'Work Hard Today', messages: ['‰ªäÂ§©‰∏çÈÄÇÂêàÊë∏È±ºÔºÅ\n‰∏ìÂøÉÂ∑•‰ΩúÂêß„ÄÇ', '‰∏ÄÊòüË≠¶ÂëäÔºåÂç±Èô©ÔºÅ\nËÄÅÊùø‰ªäÂ§©ÁúºÁ•ûÂæàÈîêÂà©„ÄÇ', '‰ªäÂ§©ËøòÊòØËÆ§ÁúüÂ∑•‰ΩúÂêß„ÄÇ\nÊòéÂ§©‰ºöÊõ¥Â•ΩÁöÑ„ÄÇ'] }
        ];
        let selectedAvatar = localStorage.getItem('avatar') || 'üê±';
        let currentFortune = null;
        function init() {
            document.getElementById('avatarBtn').textContent = selectedAvatar;
            renderAvatarGrid();
            document.getElementById('avatarBtn').addEventListener('click', () => {
                document.getElementById('avatarPanel').classList.add('show');
                document.getElementById('overlay').classList.add('show');
            });
        }
        function renderAvatarGrid() {
            document.getElementById('avatarGrid').innerHTML = avatars.map(a => `<div class="avatar-option ${a === selectedAvatar ? 'selected' : ''}" onclick="selectAvatar('${a}')">${a}</div>`).join('');
        }
        function closePanel() {
            document.getElementById('avatarPanel').classList.remove('show');
            document.getElementById('overlay').classList.remove('show');
        }
        function selectAvatar(avatar) {
            selectedAvatar = avatar;
            localStorage.setItem('avatar', avatar);
            document.getElementById('avatarBtn').textContent = avatar;
            renderAvatarGrid();
            setTimeout(closePanel, 300);
        }
        function startFortune() {
            document.getElementById('initialState').style.display = 'none';
            document.getElementById('resultState').classList.remove('show');
            document.getElementById('loadingState').classList.add('show');
            setTimeout(() => {
                document.getElementById('loadingState').classList.remove('show');
                showResult();
            }, 1500);
        }
        function showResult() {
            const weights = [35, 30, 20, 10, 5];
            const random = Math.random() * 100;
            let cumulative = 0, fortuneIndex = 0;
            for (let i = 0; i < weights.length; i++) {
                cumulative += weights[i];
                if (random <= cumulative) { fortuneIndex = i; break; }
            }
            currentFortune = fortunes[fortuneIndex];
            const message = currentFortune.messages[Math.floor(Math.random() * currentFortune.messages.length)];
            document.getElementById('ratingText').textContent = currentFortune.rating;
            document.getElementById('fortuneMessage').innerHTML = message.replace('\n', '<br>');
            const sc = document.getElementById('starsContainer');
            sc.innerHTML = '';
            for (let i = 0; i < 5; i++) {
                const s = document.createElement('span');
                s.className = 'star' + (i >= currentFortune.stars ? ' empty' : '');
                s.textContent = '‚òÖ';
                sc.appendChild(s);
            }
            document.getElementById('resultState').classList.add('show');
            if (currentFortune.stars >= 4) createConfetti();
        }
        function createConfetti() {
            const colors = ['#FFD700', '#FF6B3D', '#FF69B4', '#00CED1', '#98FB98', '#FF4500', '#9370DB'];
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const c = document.createElement('div');
                    c.className = 'confetti';
                    c.style.left = Math.random() * 100 + 'vw';
                    c.style.background = colors[Math.floor(Math.random() * colors.length)];
                    c.style.animationDuration = (Math.random() * 2 + 2) + 's';
                    c.style.borderRadius = Math.random() > 0.5 ? '50%' : '2px';
                    document.body.appendChild(c);
                    setTimeout(() => c.remove(), 3500);
                }, i * 50);
            }
        }
        function shareToWechat() { showToast('ËØ∑Êà™ÂõæÂàÜ‰∫´Âà∞ÂæÆ‰ø°'); }
        function shareToWeibo() {
            const t = encodeURIComponent(`üêü ‰ªäÊó•Êë∏È±ºËøêÂäøÔºö${currentFortune.rating}\n${document.getElementById('fortuneMessage').textContent}\n\nÊù•ÊµãÊµã‰Ω†ÁöÑËøêÂäø üëâ chillworks.ai/moyu`);
            window.open(`https://service.weibo.com/share/share.php?title=${t}`, '_blank');
        }
        function copyResult() {
            const t = `üêü ‰ªäÊó•Êë∏È±ºËøêÂäøÔºö${currentFortune.rating}\n${'‚òÖ'.repeat(currentFortune.stars)}${'‚òÜ'.repeat(5-currentFortune.stars)}\n${document.getElementById('fortuneMessage').textContent}\n\nÊù•ÊµãÊµã‰Ω†ÁöÑËøêÂäø üëâ chillworks.ai/moyu`;
            navigator.clipboard.writeText(t).then(() => showToast('Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø'));
        }
        function showToast(msg) {
            const t = document.getElementById('toast');
            t.textContent = msg;
            t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 2000);
        }
        init();
    </script>
</body>
</html>
